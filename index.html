<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="16x16" href="patches/favicon_io/favicon-16x16.png">
  <title>Lottery Analysis Pro v2.5.0</title>
  <link rel="stylesheet" href="styles/main.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
  
</head>
<body>
  <header>
    <h1>Lottery Analysis Pro <span class="version">v2.5.0</span></h1>
    <p>Advanced lottery number analysis with energy signatures and AI predictions</p>
  </header>

  <div class="control-panel">
    <label for="csvUpload" class="upload-label">
      üìÅ Upload Lottery CSV
      <input type="file" id="csvUpload" accept=".csv" aria-label="Upload CSV file">
    </label>
    <button id="analyzeBtn" disabled>ANALYZE</button>
  </div>

  <div id="progress-status" class="progress-status" style="display: none;">
    <div class="progress-content">
      <div class="current-step">
        <strong>Current Step:</strong> <span id="current-step">Ready</span>
      </div>
      <div class="step-info">
        <span id="step-timestamp">Started: --:--:--</span>
      </div>
      <div class="suggested-actions">
        <strong>Next Actions:</strong> <span id="suggested-actions">Upload CSV data to begin</span>
      </div>
    </div>
  </div>

  <div class="panels">
    <section id="energy-panel" class="panel">
      <h2>‚ö° Energy Signature Analysis</h2>
      <div id="energy-results" class="results-container"></div>
    </section>

    <section id="ml-panel" class="panel">
      <h2>ü§ñ AI Predictions</h2>
      <div id="ml-results" class="results-container"></div>
    </section>

    <section id="recommendations-panel" class="panel">
      <h2>üéØ Recommendations</h2>
      <div id="recommendations" class="results-container"></div>
    </section>

    <section id="confidence-panel" class="panel">
      <h2>üìä Confidence Intervals</h2>
      <p class="panel-description">Position-based predictions with statistical confidence intervals</p>
      
      <div class="confidence-controls">
        <div class="control-row">
          <label for="confidence-level">Confidence Level:</label>
          <select id="confidence-level">
            <option value="0.90">90%</option>
            <option value="0.95" selected>95%</option>
            <option value="0.99">99%</option>
          </select>
          
          <label for="confidence-method">Method:</label>
          <select id="confidence-method">
            <option value="bootstrap" selected>Bootstrap</option>
            <option value="time-weighted">Time-weighted</option>
            <option value="normal">Normal</option>
          </select>
          
          <button id="generate-confidence-prediction" class="confidence-btn">Generate Prediction</button>
        </div>
      </div>
      
      <div id="confidence-results" class="confidence-results-container"></div>
      <div id="confidence-stats" class="confidence-stats-container"></div>
    </section>

    <section id="optimization-panel" class="panel">
      <h2>üîß Parameter Optimization</h2>
      <div class="optimization-controls">
        <div class="control-group">
          <button id="optimize-offsets" class="optimization-btn">Optimize ML Offsets</button>
          <button id="optimize-weights" class="optimization-btn">Optimize Energy Weights</button>
          <button id="optimize-hybrid" class="optimization-btn">Optimize Both</button>
        </div>
        <div class="control-group">
          <label for="optimization-iterations">Iterations:</label>
          <input type="number" id="optimization-iterations" value="100" min="10" max="1000">
          <label for="optimization-method">Method:</label>
          <select id="optimization-method">
            <option value="random">Random Search</option>
            <option value="grid">Grid Search</option>
          </select>
        </div>
        <button id="cancel-optimization" class="cancel-btn" style="display: none;">Cancel</button>
      </div>
      <div id="optimization-progress" class="optimization-progress" style="display: none;"></div>
      <div id="optimization-results" class="optimization-results"></div>
    </section>

    <section id="performance-panel" class="panel">
      <h2>üöÄ Performance Mode</h2>
      <p class="panel-description">Enhanced accuracy testing with automatic server detection and optimization</p>
      
      <div class="performance-controls">
        <div class="control-row">
          <label for="mode-selector">Execution Mode:</label>
          <select id="mode-selector">
            <option value="auto" selected>Auto-detect (Recommended)</option>
            <option value="browser">Browser Only</option>
            <option value="server">Server Accelerated</option>
          </select>
          
          <div class="server-toggle">
            <input type="checkbox" id="server-toggle" checked>
            <label for="server-toggle">Enable Server Detection</label>
          </div>
        </div>
      </div>

      <div class="server-info">
        <div class="server-status-row">
          <span class="label">Server Status:</span>
          <span id="server-status" class="status-indicator">Checking...</span>
        </div>
        
        <div id="server-capabilities" class="server-capabilities"></div>
        <div id="performance-metrics" class="performance-metrics"></div>
      </div>

      <div id="recommendation-panel" class="recommendation-panel">
        <div class="recommendation-content">
          <p>Select a dataset to get performance recommendations</p>
        </div>
      </div>

      <div class="accuracy-test-section">
        <button id="run-accuracy-btn" class="accuracy-btn">Run Enhanced Accuracy Test</button>
        <button id="cancel-accuracy-btn" class="cancel-btn" style="display: none;">Cancel Test</button>
        
        <div id="accuracy-progress" class="accuracy-progress" style="display: none;">
          <div class="progress-header">
            <h3>Accuracy Testing in Progress</h3>
            <span class="progress-percentage">0%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
          <div class="progress-details">
            <span class="current-method">Initializing...</span>
            <span class="window-info"></span>
          </div>
        </div>

        <div id="accuracy-results" class="accuracy-results" style="display: none;">
          <h3>Accuracy Test Results</h3>
          <div class="results-content"></div>
        </div>
      </div>
    </section>

    <section id="strategy-builder" class="panel">
      <h2>‚öôÔ∏è Custom Strategy</h2>
      <div id="formula-builder"></div>
      <button id="save-strategy">Save Strategy</button>
    </section>
  </div>

  <script src="dist/bundle.js"></script>
</body>
</html>